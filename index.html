
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>âœˆï¸ AIæ—…è¡ŒåŠ©æ‰‹ï¼ˆæ­£å¼ç‰ˆï¼‰</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <style>
    body {
      font-family: "Microsoft YaHei", sans-serif;
      padding: 10px;
      max-width: 600px;
      margin: auto;
      background-color: #f8f8f8;
    }
    h2 {
      font-size: 24px;
      text-align: center;
      margin-top: 10px;
    }
    textarea, button {
      width: 100%;
      font-size: 16px;
      padding: 10px;
      margin-top: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    .output {
      white-space: pre-wrap;
      background: #fff;
      padding: 10px;
      margin-top: 20px;
      border-radius: 8px;
      border: 1px solid #eee;
      min-height: 80px;
    }
    #pdfButton {
      display: none;
      background: #4CAF50;
      color: white;
      border: none;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h2>âœˆï¸ AIæ—…è¡ŒåŠ©æ‰‹ï¼ˆæ­£å¼ç‰ˆï¼‰</h2>
  <textarea id="inputText" rows="4" placeholder="è¯·è¾“å…¥æ—…è¡Œéœ€æ±‚ï¼Œä¾‹å¦‚ï¼šä¸œäº¬åˆ°å¤§é˜ª6æ—¥æ¸¸ï¼Œ3äººï¼Œé¢„ç®—10000å…ƒï¼Œå–œæ¬¢æ¸©æ³‰å’Œç¾é£Ÿ..."></textarea>
  <button onclick="generate()">ç”Ÿæˆæ—…è¡Œè¡Œç¨‹</button>
  <div class="output" id="output">è¿™é‡Œå°†æ˜¾ç¤ºç”Ÿæˆçš„è¡Œç¨‹å†…å®¹...</div>
  <button id="pdfButton" onclick="exportPDF()">ğŸ“„ ä¸‹è½½PDF</button>

  <script>
    async function generate() {
      const input = document.getElementById("inputText").value;
      const output = document.getElementById("output");
      const pdfButton = document.getElementById("pdfButton");
      if (!input.trim()) {
        output.innerText = "è¯·è¾“å…¥æ—…è¡Œéœ€æ±‚åå†ç”Ÿæˆã€‚";
        return;
      }
      output.innerHTML = "â³ AIæ­£åœ¨ç”Ÿæˆè¡Œç¨‹ï¼Œè¯·ç¨ç­‰...";
      pdfButton.style.display = "none";

      const prompt = `ä½ æ˜¯ä¸€ä½ä¸­æ–‡æ—…è¡Œè§„åˆ’å¸ˆï¼Œè¯·æ ¹æ®ç”¨æˆ·éœ€æ±‚å®‰æ’è¯¦ç»†çš„è‡ªç”±è¡Œè®¡åˆ’ï¼ŒåŒ…æ‹¬æ¯æ—¥æ´»åŠ¨ã€äº¤é€šå»ºè®®ã€ç¾é£Ÿæ¨èã€é¢„ç®—ä¼°ç®—ç­‰ï¼Œè¾“å‡ºæ ¼å¼ä¸ºMarkdownï¼š\næ—…è¡Œéœ€æ±‚ï¼š${input}`;

      try {
        const response = await fetch("https://api.deepseek.com/v1/chat/completions", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": "Bearer sk-f364b488cdff4e87951aa571f6208526"
          },
          body: JSON.stringify({
            model: "deepseek-chat",
            messages: [{ role: "user", content: prompt }],
            temperature: 0.7
          })
        });
        const data = await response.json();
        const content = data.choices[0].message.content;
        output.innerHTML = marked.parse(content);
        pdfButton.style.display = "block";
      } catch (err) {
        output.innerText = "âŒ å‡ºç°é”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–APIã€‚";
      }
    }

    function exportPDF() {
      const element = document.getElementById("output");
      html2pdf().from(element).save("æ—…è¡Œè¡Œç¨‹è®¡åˆ’.pdf");
    }
  </script>
</body>
</html>
